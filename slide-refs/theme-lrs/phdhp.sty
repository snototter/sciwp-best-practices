% My defense slide theme (extensions to LRS)

% Mimics a ``Sectionpage''
% Options: Title, Subtitle, Color for page number block
\newcommand{\componentframe}[4]{%
  \renewcommand{\colorslidenumberbg}{#3}
  \section{#1}
  \begin{frame}[plain]%
  % DO NOT CHANGE THE GEOMETRY, this will mess up your margins!
%     \newgeometry{left=0mm,right=0mm,top=5mm,bottom=5mm}
    \begin{tikzpicture}
      \useasboundingbox (0,0) rectangle(\the\textwidth,\the\textheight);
      % Draw image
      \node[inner sep=0pt, anchor=south east] at (0.95\textwidth, 0.1\textheight) {\includegraphics[height=.8\textheight]{#4}};
      %
      % Draw title, subtitle
      \node[inner sep=0pt, anchor=west] at (0.05\textwidth, 0.3\textheight) {
      \begin{beamercolorbox}[wd=\textwidth]{title page header}
	  \usebeamerfont{title}\textcolor{\colorslidenumberbg}{\insertsection}\par%
      \end{beamercolorbox}
      };
      \node[inner sep=0pt, anchor=west] at (0.05\textwidth, 0.22\textheight) {
      \begin{beamercolorbox}[wd=\textwidth]{title page header}
	  \usebeamerfont{page}#2\par%
      \end{beamercolorbox}
      };
    \end{tikzpicture}
  \end{frame}%
}

\newcommand{\detailframe}[4]{%
  \renewcommand{\colorslidenumberbg}{#3}
  \subsection{#1}
  \begin{frame}[plain]%
  % DO NOT CHANGE THE GEOMETRY, this will mess up your margins!
%     \newgeometry{left=0mm,right=0mm,top=5mm,bottom=5mm}
    \begin{tikzpicture}
      \useasboundingbox (0,0) rectangle(\the\textwidth,\the\textheight);
      % Draw image
      \node[inner sep=0pt, anchor=south east] at (0.95\textwidth, 0.1\textheight) {\includegraphics[height=.8\textheight]{#4}};
      %
      % Draw title, subtitle
      \node[inner sep=0pt, anchor=west] at (0.05\textwidth, 0.3\textheight) {
      \begin{beamercolorbox}[wd=\textwidth]{title page header}
	  \usebeamerfont{title}\textcolor{\colorslidenumberbg}{\insertsubsection}\par%
      \end{beamercolorbox}
      };
      \node[inner sep=0pt, anchor=west] at (0.05\textwidth, 0.22\textheight) {
      \begin{beamercolorbox}[wd=\textwidth]{title page header}
	  \usebeamerfont{page}#2\par%
      \end{beamercolorbox}
      };
    \end{tikzpicture}
  \end{frame}%
}

%% Works - but citing manually is easier
% \edef\slidecitetxt{}
% \newcommand{\addslidecitetxt}[1]{\edef\slidecitetxt{\slidecitetxt{}#1}}
% \addslidecitetxt{foo}
% \addslidecitetxt{bar}
% \slidecitetxt
%
%% doesn't work; use edef above!
% \newcounter{slidecitations}
% \makeatletter
% \def\beamer@checkframetitle{\def\slidecitetxt{}%
%   \setcounter{slidecitations}{1}%
%   \@ifnextchar\bgroup\beamer@inlineframetitle{}}
% \makeatother
% \newcommand{\slidecite}[1]{[\theslidecitations]%
%   \stepcounter{slidecitations}%
%   \expandafter\def\expandafter\slidecitetxt\expandafter{\slidecitetxt { }#1}
% }
% \newcommand{\placeslidecite}{\footlineextra{\slidecitetxt}}


% % Result visualizations
% \definecolor{cprop}{RGB}{250,0,0}
% % additional trackers for result plots
\definecolor{colordat}{RGB}{250,0,0}
\definecolor{cact}{RGB}{0,180,0} %\definecolor{cact}{RGB}{230,0,250} % fix! - matlab rendering
\definecolor{cdsst}{RGB}{0,0,250} %\definecolor{cdsst}{RGB}{0,0,250}  % fix! - matlab rendering
\definecolor{ckcf}{RGB}{0,240,240} % fix! - matlab rendering
\definecolor{cspot}{RGB}{240,0,240} %{40,40,40}

\definecolor{tcfirst}{RGB}{250,20,0}
\definecolor{tcsecond}{RGB}{0,0,250}
\definecolor{tcthird}{RGB}{10,140,0}
